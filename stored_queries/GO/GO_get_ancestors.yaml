# Get all ancestors (all parent's parents) for this term

name: GO_get_ancestors
params:
  type: object
  required: [id]
  properties:
    id:
      type: string
      title: Document ID
      description: GO id of the term you want to get all the ancestors of 
    limit:
        type: integer
        default: 20
        description: Maximum result limit 
        maximum: 1000
    offset:
        type: integer
        default: 0
        description: Result offset for pagination
        maximum: 100000
    ts:
      type: integer
      title: Versioning timestamp
query_prefix: WITH GO_test_term
query: |
  FOR t in GO_terms
    filter t.id == @id
    filter t.created <= @ts AND t.expired >= @ts
    limit 1
    for v, e IN 1..100 OUTBOUND t GO_edges
      filter e.type == "is_a"
      filter e.created <= @ts AND t.expired >= @ts
      sort v.id asc
      limit @offset, @limit
      return {term: v, edge: e}
